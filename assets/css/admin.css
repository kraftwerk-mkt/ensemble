/**
 * Ensemble Admin Styles
 * 
 * @package Ensemble
 */

/* CSS Variables - will be overridden by theme files */
:root {
    --es-primary: #2271b1;
    --es-primary-hover: #135e96;
    --es-background: #f0f0f1;
    --es-surface: #ffffff;
    --es-text: #1d2327;
    --es-text-secondary: #50575e;
    --es-border: #dcdcde;
    --es-danger: #d63638;
    --es-danger-hover: #aa2729;
    --es-success: #00a32a;
    --es-warning: #f0b849;
}

/* ========================================
   FIELD MAPPING STYLES
   ======================================== */

.es-field-mapping-container {
    max-width: 1200px;
}

.es-field-mapping-categories {
    display: flex;
    flex-direction: column;
    gap: 40px;
    margin-top: 20px;
}

.es-field-category {
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 12px;
    padding: 24px;
}

.es-category-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--es-text);
    margin: 0 0 20px 0;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--es-border);
}

.es-field-mapping-grid {
    display: flex;
    flex-direction: column;
    gap: 24px;
    margin-top: 20px;
}

.es-field-mapping-row {
    display: grid;
    grid-template-columns: 1fr 40px 1fr;
    gap: 20px;
    align-items: start;
    padding: 20px;
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 8px;
    transition: all 0.2s ease;
}

.es-field-mapping-row:hover {
    border-color: var(--es-primary);
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

/* Standard Field Column */
.es-standard-field {
    display: flex;
    gap: 12px;
    align-items: start;
}

.es-field-icon {
    font-size: 24px;
    line-height: 1;
    margin-top: 2px;
}

.es-field-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.es-field-info strong {
    font-size: 14px;
    color: var(--es-text);
}

.es-field-info small {
    font-size: 12px;
    color: var(--es-text-secondary);
}

.es-field-key {
    display: inline-block;
    padding: 2px 6px;
    background: var(--es-background);
    border: 1px solid var(--es-border);
    border-radius: 3px;
    font-size: 11px;
    font-family: 'Courier New', monospace;
    color: var(--es-text-secondary);
    margin-top: 4px;
}

/* Mapping Arrow */
.es-mapping-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: var(--es-text-secondary);
    margin-top: 10px;
}

/* ACF Field Selector Column */
.es-acf-field-selector {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.es-field-search-wrapper {
    position: relative;
}

.es-field-search {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--es-border);
    border-radius: 4px;
    font-size: 13px;
    background: var(--es-surface);
    color: var(--es-text);
    transition: all 0.2s ease;
}

.es-field-search:focus {
    outline: none;
    border-color: var(--es-primary);
    box-shadow: 0 0 0 1px var(--es-primary);
}

.es-selected-field {
    margin-top: 8px;
}

/* Field Pills */
.es-field-pills {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    max-height: 300px;
    overflow-y: auto;
    padding: 4px;
}

.es-field-pill {
    display: inline-flex;
    flex-direction: column;
    padding: 8px 12px;
    background: var(--es-background);
    border: 1px solid var(--es-border);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    max-width: 100%;
}

.es-field-pill:hover {
    background: var(--es-primary);
    border-color: var(--es-primary);
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.es-field-pill:hover strong,
.es-field-pill:hover small {
    color: white;
}

.es-field-pill strong {
    font-size: 13px;
    color: var(--es-text);
    line-height: 1.3;
}

.es-field-pill small {
    font-size: 11px;
    color: var(--es-text-secondary);
    margin-top: 2px;
    line-height: 1.2;
}

.es-field-pill.es-field-selected {
    background: var(--es-primary);
    border-color: var(--es-primary);
    color: white;
    cursor: default;
    padding-right: 32px;
    position: relative;
}

.es-field-pill.es-field-selected strong,
.es-field-pill.es-field-selected small {
    color: white;
}

.es-field-pill.es-field-selected:hover {
    transform: none;
}

.es-remove-field {
    position: absolute;
    top: 50%;
    right: 8px;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.2);
    border-radius: 50%;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    transition: all 0.2s ease;
}

.es-remove-field:hover {
    background: rgba(255,255,255,0.3);
    transform: translateY(-50%) scale(1.1);
}

.es-field-pill.es-field-hidden {
    display: none;
}

/* ✨ NEW: Field Source Badges */
.es-field-source {
    display: inline-block;
    padding: 1px 6px;
    border-radius: 3px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.es-field-source.es-source-acf {
    background: rgba(74, 144, 226, 0.2);
    color: #4a90e2;
}

.es-field-source.es-source-meta {
    background: rgba(155, 89, 182, 0.2);
    color: #9b59b6;
}

.es-field-pill:hover .es-field-source.es-source-acf {
    background: rgba(255, 255, 255, 0.3);
    color: rgba(255, 255, 255, 0.95);
}

.es-field-pill:hover .es-field-source.es-source-meta {
    background: rgba(255, 255, 255, 0.3);
    color: rgba(255, 255, 255, 0.95);
}

.es-field-pill.es-field-selected .es-field-source {
    background: rgba(255, 255, 255, 0.3);
    color: rgba(255, 255, 255, 0.95);
}

.es-show-all-fields {
    margin-top: 8px;
}

.es-all-fields-container {
    width: 100%;
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px solid var(--es-border);
}

.es-no-matches {
    color: var(--es-text-secondary);
    font-size: 12px;
    font-style: italic;
}

/* ======================================== */

/* Settings Styles */
.es-settings-wrap .nav-tab-wrapper {
    margin-bottom: 20px;
}

.es-wizard-steps-config {
    margin-top: 20px;
}

.es-wizard-steps-config h2 {
    margin-top: 0;
}

.es-wizard-steps-config .description {
    margin-bottom: 20px;
    font-size: 13px;
}

.es-field-group-selector {
    padding: 10px 0;
}

.es-field-group-selector label {
    padding: 5px 0;
    cursor: pointer;
}

.es-field-group-selector label:hover {
    background: var(--es-background);
}

.es-field-group-selector input[type="checkbox"] {
    margin-right: 8px;
}

/* Drag & Drop Sortierung */
.es-sortable {
    position: relative;
}

.es-field-group-item {
    display: flex;
    align-items: center;
    padding: 8px;
    margin: 5px 0;
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 4px;
    cursor: move;
    transition: all 0.2s ease;
}

.es-field-group-item:hover {
    background: var(--es-background);
    border-color: var(--es-primary);
}

.es-field-group-item.sortable-ghost {
    opacity: 0.4;
}

.es-field-group-item.sortable-drag {
    opacity: 0.8;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.es-drag-handle {
    font-size: 14px;
    color: var(--es-text-secondary);
    margin-right: 8px;
    cursor: grab;
    user-select: none;
    line-height: 1;
    opacity: 0.5;
    transition: opacity 0.2s;
}

.es-drag-handle:active {
    cursor: grabbing;
}

.es-field-group-item label {
    flex: 1;
    margin: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
}

/* Settings Wizard Configuration Cards */
.es-wizard-config-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.es-category-config-card {
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.es-category-title {
    margin: 0 0 15px 0;
    padding: 0 0 10px 0;
    border-bottom: 2px solid var(--es-border);
    font-size: 18px;
    font-weight: 600;
    color: var(--es-text);
}

/* Pills for Settings Field Groups */
.es-field-groups-pills {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.es-sortable-pill {
    display: inline-flex;
    align-items: center;
    position: relative;
    user-select: none;
    background: #27272a;
    border: 2px solid #3f3f46;
    border-radius: 20px;
    transition: all 0.2s ease;
    padding: 8px 4px 8px 12px;
    gap: 4px;
}

.es-sortable-pill:hover {
    border-color: #2563eb;
    background: #3f3f46;
}

.es-sortable-pill .es-drag-handle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    color: #a1a1aa;
    opacity: 0.6;
    transition: all 0.2s;
    cursor: grab;
    padding: 0 4px;
    flex-shrink: 0;
    z-index: 10;
    position: relative;
}

.es-sortable-pill .es-drag-handle:active {
    cursor: grabbing;
}

.es-sortable-pill:hover .es-drag-handle {
    opacity: 1;
}

.es-sortable-pill input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

.es-sortable-pill > span:last-child {
    display: inline-block;
    padding: 0 12px 0 4px;
    color: #a1a1aa;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    flex: 1;
}

.es-sortable-pill input[type="checkbox"]:checked {
    /* Keep checkbox functionality */
}

.es-sortable-pill.checked {
    background: #2563eb;
    border-color: #2563eb;
}

.es-sortable-pill.checked > span:last-child {
    color: #fff;
    padding-left: 8px;
}

.es-sortable-pill.checked > span:last-child::before {
    content: "✓ ";
    margin-right: 4px;
    font-weight: bold;
}

.es-sortable-pill.checked .es-drag-handle {
    color: rgba(255, 255, 255, 0.8);
    opacity: 0.6;
}

.es-sortable-pill.checked:hover .es-drag-handle {
    opacity: 1;
}

/* Sortable States */
.es-sortable-pill.sortable-ghost {
    opacity: 0.3;
}

.es-sortable-pill.sortable-drag {
    opacity: 0.9;
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Pill animations */
.es-sortable-pill:active {
    transform: scale(0.95);
}

.es-sortable-pill.checked {
    animation: pillPop 0.3s ease;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
}

@keyframes pillPop {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

/* Smart Pills - Search & Show More */
.es-pills-search {
    position: relative;
    margin-bottom: 15px;
}

.es-pills-search-input {
    width: 100%;
    padding: 10px 40px 10px 12px;
    border: 1px solid var(--es-border);
    border-radius: 4px;
    font-size: 14px;
    color: var(--es-text);
    background: var(--es-surface);
    transition: border-color 0.2s;
}

.es-pills-search-input:focus {
    outline: none;
    border-color: var(--es-primary);
    box-shadow: 0 0 0 1px var(--es-primary);
}

.es-pills-search-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--es-text-secondary);
    pointer-events: none;
}

.es-pills-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    max-height: 200px;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.es-pills-list.expanded {
    max-height: none;
}

.es-pill-hidden {
    display: none !important;
}

.es-pills-show-more {
    display: inline-block;
    margin-top: 10px;
    padding: 6px 12px;
    background: transparent;
    border: 1px dashed var(--es-primary);
    border-radius: 4px;
    color: var(--es-primary);
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s;
}

.es-pills-show-more:hover {
    background: rgba(59, 130, 246, 0.1);
    border-style: solid;
}

.es-pills-no-results {
    text-align: center;
    padding: 20px;
    color: var(--es-text-secondary);
    font-style: italic;
}

/* Status Pills - Event Status Selection */
.es-status-pills {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 8px;
}

.es-status-pill {
    display: inline-flex;
    align-items: center;
    position: relative;
    cursor: pointer;
    user-select: none;
}

.es-status-pill input[type="radio"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

.es-status-pill span {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 16px;
    background: var(--es-surface-secondary, #374151);
    border: 2px solid var(--es-border, #4b5563);
    border-radius: 8px;
    color: var(--es-text-secondary, #9ca3af);
    font-size: 13px;
    font-weight: 500;
    transition: all 0.2s ease;
}

.es-status-pill span .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
}

.es-status-pill:hover span {
    border-color: var(--es-text-secondary);
    background: var(--es-surface-hover, #4b5563);
}

/* Draft */
.es-status-pill.es-status-draft input:checked + span {
    background: #6b7280;
    border-color: #6b7280;
    color: #fff;
}

/* Published */
.es-status-pill.es-status-published input:checked + span {
    background: #10b981;
    border-color: #10b981;
    color: #fff;
}

/* Cancelled */
.es-status-pill.es-status-cancelled input:checked + span {
    background: #ef4444;
    border-color: #ef4444;
    color: #fff;
}

/* Postponed */
.es-status-pill.es-status-postponed input:checked + span {
    background: #f59e0b;
    border-color: #f59e0b;
    color: #fff;
}

/* Preview */
.es-status-pill.es-status-preview input:checked + span {
    background: #8b5cf6;
    border-color: #8b5cf6;
    color: #fff;
}

/* Artist Pill Sortable */
#es-artist-selection.ui-sortable .es-artist-pill-label {
    cursor: grab;
}

#es-artist-selection.ui-sortable-helper .es-artist-pill-label {
    cursor: grabbing;
}

.es-artist-pill-placeholder {
    background: var(--es-primary-light, rgba(59, 130, 246, 0.1));
    border: 2px dashed var(--es-primary, #3b82f6);
    border-radius: 25px;
    height: 44px;
    min-width: 120px;
    margin: 4px;
}

/* Genre Pill Sortable Placeholder */
.es-pill-placeholder {
    background: var(--es-primary-light, rgba(53, 130, 196, 0.15));
    border: 2px dashed var(--es-primary, #3582c4);
    border-radius: 20px;
    height: 32px;
    min-width: 80px;
    margin: 4px;
    display: inline-block;
}

/* Sortable Pills - Grab Cursor */
.es-pill-group.ui-sortable .es-pill {
    cursor: grab;
}

.es-pill-group.ui-sortable .es-pill.ui-sortable-helper {
    cursor: grabbing;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    transform: scale(1.05);
    z-index: 1000;
}

/* Location Conflict Warning */
.es-conflict-warning {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    background: #fef2f2;
    border: 1px solid #fecaca;
    border-left: 4px solid #ef4444;
    border-radius: 8px;
    padding: 12px 16px;
    margin-top: 12px;
    animation: es-shake 0.5s ease;
}

.es-conflict-warning .dashicons {
    color: #ef4444;
    font-size: 20px;
    margin-top: 2px;
}

.es-conflict-warning strong {
    color: #b91c1c;
    display: block;
    margin-bottom: 6px;
}

.es-conflict-warning ul {
    margin: 0;
    padding-left: 20px;
    color: #7f1d1d;
}

.es-conflict-warning li {
    margin: 4px 0;
}

@keyframes es-shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

@keyframes es-slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Inline Bulk Actions */
.es-bulk-actions-inline {
    display: flex;
    align-items: center;
    gap: 6px;
}

.es-bulk-actions-inline select {
    padding: 6px 10px;
    border-radius: 4px;
    border: 1px solid var(--es-border);
    background: var(--es-surface);
    color: var(--es-text);
    font-size: 13px;
    min-width: 120px;
}

.es-bulk-actions-inline button {
    padding: 6px 10px;
    min-width: auto;
}

.es-bulk-actions-inline button .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
    line-height: 1;
}

.es-bulk-selected-count {
    color: var(--es-primary);
    font-weight: 600;
    white-space: nowrap;
    font-size: 12px;
    background: rgba(59, 130, 246, 0.15);
    padding: 4px 8px;
    border-radius: 10px;
}

.es-bulk-selected-count:empty {
    display: none;
}

/* Toolbar Divider */
.es-toolbar-divider {
    width: 1px;
    height: 24px;
    background: var(--es-border);
    margin: 0 8px;
}

/* Filter Toggle Button */
.es-filter-toggle-btn {
    position: relative;
    padding: 6px 10px;
}

.es-filter-toggle-btn .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
}

.es-filter-toggle-btn.es-filters-active {
    background: var(--es-primary);
    color: white;
    border-color: var(--es-primary);
}

.es-filter-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    background: var(--es-danger, #ef4444);
    color: white;
    font-size: 10px;
    font-weight: bold;
    padding: 2px 5px;
    border-radius: 10px;
    min-width: 14px;
    text-align: center;
}

/* Collapsible Filter Panel */
.es-filter-panel {
    background: var(--es-surface-secondary, #374151);
    border-top: 1px solid var(--es-border);
    padding: 12px 16px !important;
    gap: 10px;
    flex-wrap: wrap;
}

.es-filter-panel .es-filter-select {
    min-width: 140px;
}

/* Selected events in calendar */
.fc-event.es-selected {
    outline: 3px solid var(--es-primary, #3b82f6) !important;
    outline-offset: 2px;
    box-shadow: 0 0 0 6px rgba(59, 130, 246, 0.2) !important;
}

/* Event status badges in calendar */
.es-event-status-badge {
    display: inline-block;
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 4px;
    margin-left: 6px;
    font-weight: 600;
    text-transform: uppercase;
}

.es-event-status-draft {
    background: #6b7280;
    color: white;
}

.es-event-status-cancelled {
    background: #ef4444;
    color: white;
}

.es-event-status-postponed {
    background: #f59e0b;
    color: white;
}

/* Status Badges in Event Cards */
.es-badge-status {
    font-size: 11px;
    padding: 4px 8px;
    border-radius: 4px;
    font-weight: 600;
    text-transform: uppercase;
}

.es-badge-status-draft {
    background: #6b7280;
    color: white;
}

.es-badge-status-cancelled {
    background: #ef4444;
    color: white;
}

.es-badge-status-postponed {
    background: #f59e0b;
    color: white;
}

/* Event Card Status Styling */
.es-event-card.es-event-status-draft {
    opacity: 0.7;
    border-left: 4px solid #6b7280;
}

.es-event-card.es-event-status-cancelled {
    opacity: 0.6;
    border-left: 4px solid #ef4444;
}

.es-event-card.es-event-status-cancelled .es-event-card-title {
    text-decoration: line-through;
    color: #9ca3af;
}

.es-event-card.es-event-status-postponed {
    border-left: 4px solid #f59e0b;
}

/* Event Card Checkbox for Bulk Selection */
.es-event-card .es-event-select {
    position: absolute;
    top: 10px;
    left: 10px;
    width: 22px;
    height: 22px;
    cursor: pointer;
    z-index: 10;
    opacity: 0;
    transition: opacity 0.2s ease;
    accent-color: var(--es-primary);
    background: white;
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.es-event-card:hover .es-event-select,
.es-event-card .es-event-select:checked {
    opacity: 1;
}

.es-event-card.es-selected {
    outline: 3px solid var(--es-primary, #3b82f6);
    outline-offset: -1px;
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
}

/* Pill Group - Beautiful checkbox/radio pills */
.es-pill-group {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 8px;
}

.es-pill {
    display: inline-flex;
    align-items: center;
    position: relative;
    cursor: pointer;
    user-select: none;
}

.es-pill input[type="checkbox"],
.es-pill input[type="radio"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

.es-pill span {
    display: inline-block;
    padding: 8px 16px;
    background: var(--es-surface-secondary, #374151);
    border: 2px solid var(--es-border, #4b5563);
    border-radius: 20px;
    color: var(--es-text-secondary, #9ca3af);
    font-size: 13px;
    font-weight: 500;
    transition: all 0.2s ease;
}

.es-pill:hover span {
    border-color: var(--es-primary);
    background: var(--es-surface-hover, #4b5563);
}

.es-pill input[type="checkbox"]:checked + span,
.es-pill input[type="radio"]:checked + span {
    background: var(--es-primary, #3b82f6);
    border-color: var(--es-primary, #3b82f6);
    color: #fff;
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
}

.es-pill input[type="checkbox"]:checked + span::before,
.es-pill input[type="radio"]:checked + span::before {
    content: "✓ ";
    margin-right: 4px;
    font-weight: bold;
}

/* Pill animations */
.es-pill span {
    transform: scale(1);
}

.es-pill:active span {
    transform: scale(0.95);
}

.es-pill input[type="checkbox"]:checked + span,
.es-pill input[type="radio"]:checked + span {
    animation: pillPop 0.3s ease;
}

@keyframes pillPop {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

.es-status-ok {
    color: var(--es-success);
    font-weight: 600;
}

.es-status-warning {
    color: var(--es-danger);
    font-weight: 600;
}

/* Custom Wizard Steps */
.es-custom-step {
    border-left: 4px solid var(--es-primary);
    background: var(--es-background);
    padding-left: 20px;
}

.es-custom-step h2 {
    color: var(--es-primary);
    font-size: 16px;
    margin-top: 0;
}

/* Wizard Timeline */
.es-wizard-timeline {
    display: flex;
    align-items: flex-start; /* Changed from center to flex-start */
    justify-content: center;
    padding: 30px 20px;
    margin-bottom: 20px;
    background: var(--es-surface);
    border-bottom: 2px solid var(--es-border);
}

/* Wizard Navigation Buttons */
.es-wizard-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: var(--es-surface);
    border-bottom: 2px solid var(--es-border);
    margin-bottom: 30px;
}

.es-wizard-prev,
.es-wizard-next {
    min-width: 120px;
}

.es-wizard-next {
    margin-left: auto;
}

/* Form Sections - Step Navigation */
.es-form-section[data-step] {
    display: none;
}

.es-form-section[data-step].active {
    display: block;
}

.es-timeline-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    cursor: default;
    transition: all 0.3s ease;
}

.es-timeline-step-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--es-background);
    border: 2px solid var(--es-border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 16px;
    color: var(--es-text-secondary);
    transition: all 0.3s ease;
    margin-bottom: 8px;
    flex-shrink: 0; /* Prevent circle from shrinking */
}

.es-timeline-step-label {
    font-size: 12px;
    color: var(--es-text-secondary);
    text-align: center;
    min-width: 80px;
    max-width: 80px; /* Constrain width for consistent wrapping */
    transition: all 0.3s ease;
    line-height: 1.3;
}

.es-timeline-step.active .es-timeline-step-number {
    background: var(--es-primary);
    border-color: var(--es-primary);
    color: white;
    transform: scale(1.1);
}

.es-timeline-step.active .es-timeline-step-label {
    color: var(--es-primary);
    font-weight: 600;
}

.es-timeline-step.completed .es-timeline-step-number {
    background: var(--es-success);
    border-color: var(--es-success);
    color: transparent; /* Blende die Zahl aus */
}

.es-timeline-step.completed .es-timeline-step-number::after {
    content: '✓';
    position: absolute;
    font-size: 18px;
    color: white;
    font-weight: bold;
}

.es-timeline-connector {
    flex: 1;
    height: 2px;
    background: var(--es-border);
    min-width: 40px;
    max-width: 80px;
    transition: all 0.3s ease;
    margin-top: 19px; /* Center on 40px circle: (40px / 2) - 1px */
    flex-shrink: 0;
}

.es-timeline-connector.active {
    background: var(--es-primary);
}

/* Responsive Timeline */
@media (max-width: 768px) {
    .es-wizard-timeline {
        padding: 20px 10px;
    }
    
    .es-timeline-step-label {
        font-size: 10px;
        min-width: 60px;
        max-width: 60px;
    }
    
    .es-timeline-step-number {
        width: 32px;
        height: 32px;
        font-size: 14px;
    }
    
    .es-timeline-connector {
        min-width: 20px;
        max-width: 40px;
        margin-top: 15px; /* Center on 32px circle */
    }
}

/* Wizard Wrapper */
.es-wizard-wrap {
    margin-top: 20px;
}

.es-wizard-container {
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 12px;
    padding: 0;
    margin-top: 20px;
    overflow: hidden;
}

/* Tabs */
.es-tabs {
    display: flex;
    border-bottom: 1px solid var(--es-border);
    background: var(--es-background);
}

.es-tab {
    padding: 15px 25px;
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    color: var(--es-text-secondary);
    transition: all 0.2s;
}

.es-tab:hover {
    color: var(--es-text);
    background: rgba(0, 0, 0, 0.05);
}

.es-tab.active {
    color: var(--es-primary);
    border-bottom: 2px solid var(--es-primary);
    background: var(--es-surface);
}

/* Tab Content */
.es-tab-content {
    padding: 30px;
}

.es-field-builder-tabs {
    display: flex;
    gap: 0;
    background: var(--es-background, #1e1e1e);
    border-bottom: 1px solid var(--es-border, #404040);
    padding: 15px 20px;
}

/* Events List View */
.es-events-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    gap: 20px;
}

.es-search-box {
    display: flex;
    gap: 10px;
    flex: 1;
    max-width: 500px;
}

#es-event-search {
    flex: 1;
    padding: 8px 12px;
    border: 1px solid var(--es-border);
    border-radius: 4px;
    font-size: 14px;
}

.es-events-list {
    min-height: 200px;
}

.es-event-item {
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 4px;
    padding: 20px;
    margin-bottom: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s;
}

.es-event-item:hover {
    border-color: var(--es-primary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.es-event-info {
    flex: 1;
}

.es-event-title {
    font-size: 18px;
    font-weight: 600;
    margin: 0 0 10px 0;
    color: var(--es-text);
}

.es-event-meta {
    display: flex;
    gap: 20px;
    font-size: 14px;
    color: var(--es-text-secondary);
}

.es-event-meta-item {
    display: flex;
    align-items: center;
    gap: 5px;
}

.es-event-actions {
    display: flex;
    gap: 10px;
}

.es-event-actions .button {
    min-width: 80px;
}

/* Wizard Form */
.es-wizard-form-container {
    max-width: 800px;
    margin: 0 auto;
}

.es-event-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Form Section - Card Style (matching Artist/Location Manager) */
.es-form-section {
    background: transparent;
    border: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.es-form-section h2 {
    display: none; /* No longer needed - using cards instead */
}

/* Form section content */
.es-form-section > .es-form-card {
    margin: 0;
}

.es-form-row {
    margin-bottom: 20px;
}

.es-form-row:last-child {
    margin-bottom: 0;
}

.es-form-row label {
    display: block;
    margin-bottom: 6px;
    font-weight: 500;
    font-size: 13px;
    color: var(--es-text);
}

.es-form-row input[type="text"],
.es-form-row input[type="date"],
.es-form-row input[type="time"],
.es-form-row input[type="url"],
.es-form-row input[type="number"],
.es-form-row input[type="email"],
.es-form-row select,
.es-form-row textarea {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--es-border);
    border-radius: 6px;
    font-size: 14px;
    color: var(--es-text);
    background: var(--es-surface);
    transition: border-color 0.2s, box-shadow 0.2s;
    box-sizing: border-box;
}

.es-form-row input:focus,
.es-form-row select:focus,
.es-form-row textarea:focus {
    outline: none;
    border-color: var(--es-primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.es-form-row input::placeholder,
.es-form-row textarea::placeholder {
    color: var(--es-text-secondary);
    opacity: 0.6;
}

.es-form-row textarea {
    resize: vertical;
    min-height: 80px;
}

.es-form-row select[multiple] {
    height: auto;
}

.es-form-row-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.es-field-help {
    display: block;
    margin-top: 5px;
    font-size: 13px;
    color: var(--es-text-secondary);
    font-style: italic;
}

.es-info-box {
    padding: 12px 15px;
    background: var(--es-bg-secondary);
    border-left: 3px solid var(--es-primary);
    border-radius: 4px;
    margin-top: 8px;
}

.es-info-box p {
    margin: 0 0 8px 0;
    color: var(--es-text-primary);
    font-size: 14px;
}

.es-info-box p:last-child {
    margin-bottom: 0;
}

.es-info-box small {
    color: var(--es-text-secondary);
    font-size: 13px;
}

.es-quick-add {
    display: inline-block;
    margin-top: 8px;
    font-size: 13px;
    color: var(--es-primary);
    text-decoration: none;
}

.es-quick-add:hover {
    text-decoration: underline;
}

/* Checkbox Group */
.es-checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.es-checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    cursor: pointer;
    padding: 8px;
    border-radius: 4px;
    transition: background 0.2s;
}

.es-checkbox-label:hover {
    background: var(--es-background);
}

.es-checkbox-label input[type="checkbox"] {
    width: auto;
    margin: 0;
}

/* WYSIWYG Editor Wrapper */
.es-wysiwyg-wrap {
    background: var(--es-input-bg, rgba(255, 255, 255, 0.05));
    border-radius: 6px;
    overflow: hidden;
    width: 100% !important;
    max-width: none !important;
}

.es-wysiwyg-wrap .wp-editor-container {
    border: 1px solid var(--es-border, rgba(255, 255, 255, 0.15)) !important;
    border-radius: 6px;
    overflow: hidden;
    width: 100% !important;
}

.es-wysiwyg-wrap .wp-editor-wrap {
    width: 100% !important;
}

.es-wysiwyg-wrap .wp-editor-tabs {
    background: var(--es-surface-secondary, rgba(255, 255, 255, 0.05));
    padding: 5px;
}

.es-wysiwyg-wrap .wp-switch-editor {
    background: transparent;
    border: 1px solid var(--es-border, rgba(255, 255, 255, 0.15));
    color: var(--es-text-primary, #fff);
    border-radius: 4px;
    padding: 6px 12px;
    margin: 2px;
}

.es-wysiwyg-wrap .wp-switch-editor.switch-tmce:focus,
.es-wysiwyg-wrap .wp-switch-editor.switch-html:focus,
.es-wysiwyg-wrap .wp-switch-editor:active {
    box-shadow: none;
}

.es-wysiwyg-wrap .wp-switch-editor.switch-tmce.active,
.es-wysiwyg-wrap .wp-switch-editor.switch-html.active {
    background: var(--es-primary, #3582c4);
    border-color: var(--es-primary, #3582c4);
}

.es-wysiwyg-wrap .mce-panel {
    background: var(--es-surface-secondary, #2a2a3e) !important;
    border-color: var(--es-border, rgba(255, 255, 255, 0.15)) !important;
}

.es-wysiwyg-wrap .mce-toolbar .mce-btn-group {
    background: transparent !important;
}

.es-wysiwyg-wrap .mce-toolbar .mce-btn {
    background: transparent !important;
    border: 1px solid transparent !important;
}

.es-wysiwyg-wrap .mce-toolbar .mce-btn:hover,
.es-wysiwyg-wrap .mce-toolbar .mce-btn.mce-active {
    background: rgba(255, 255, 255, 0.1) !important;
    border-color: var(--es-border, rgba(255, 255, 255, 0.2)) !important;
}

.es-wysiwyg-wrap .mce-toolbar .mce-btn button {
    color: var(--es-text-primary, #fff) !important;
}

.es-wysiwyg-wrap .mce-toolbar .mce-ico {
    color: var(--es-text-primary, #fff) !important;
}

.es-wysiwyg-wrap .mce-edit-area iframe {
    background: var(--es-input-bg, #1e1e2e) !important;
}

.es-wysiwyg-wrap .quicktags-toolbar {
    background: var(--es-surface-secondary, #2a2a3e);
    border-color: var(--es-border, rgba(255, 255, 255, 0.15));
    padding: 8px;
}

.es-wysiwyg-wrap .quicktags-toolbar input.ed_button {
    background: transparent;
    border: 1px solid var(--es-border, rgba(255, 255, 255, 0.2));
    color: var(--es-text-primary, #fff);
    border-radius: 4px;
}

.es-wysiwyg-wrap .quicktags-toolbar input.ed_button:hover {
    background: rgba(255, 255, 255, 0.1);
}

.es-wysiwyg-wrap textarea.wp-editor-area {
    background: var(--es-input-bg, #1e1e2e) !important;
    color: var(--es-text-primary, #fff) !important;
    border: none !important;
    width: 100% !important;
    max-width: none !important;
    box-sizing: border-box !important;
}

/* Ensure WordPress editor is full width */
.es-form-row .wp-editor-wrap,
.es-form-row .wp-editor-container,
.es-form-row .wp-editor-area,
.es-form-card .wp-editor-wrap,
.es-form-card .wp-editor-container,
.es-form-card .wp-editor-area {
    width: 100% !important;
    max-width: none !important;
}

/* Featured Image Inline (Step 1) */
.es-featured-image-inline {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 15px;
}

.es-featured-image-inline .es-image-preview-inline {
    width: 120px;
    height: 80px;
    background: var(--es-surface-secondary, rgba(255, 255, 255, 0.05));
    border: 2px dashed var(--es-border, rgba(255, 255, 255, 0.15));
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.es-featured-image-inline .es-image-preview-inline.has-image {
    border-style: solid;
    border-color: var(--es-primary, #3582c4);
}

.es-featured-image-inline .es-image-preview-inline img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.es-featured-image-inline .es-image-preview-inline .es-remove-image {
    position: absolute;
    top: 4px;
    right: 4px;
    background: var(--es-danger, #dc3232);
    color: white;
    border: none;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    font-size: 14px;
    line-height: 1;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Featured Image */
#es-featured-image-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

#es-featured-image-preview {
    display: none;
    position: relative;
}

#es-featured-image-preview.has-image {
    display: block;
}

#es-featured-image-preview img {
    max-width: 100%;
    height: auto;
    border-radius: 4px;
    border: 1px solid var(--es-border);
}

#es-featured-image-preview .es-remove-image {
    position: absolute;
    top: 10px;
    right: 10px;
    background: var(--es-danger);
    color: white;
    border: none;
    border-radius: 4px;
    padding: 5px 10px;
    cursor: pointer;
    font-size: 12px;
}

#es-featured-image-preview .es-remove-image:hover {
    background: var(--es-danger-hover);
}

/* Gallery Container */
.es-gallery-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.es-gallery-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    min-height: 80px;
}

/* Override ALL jQuery UI cursor icons for gallery items */
.es-gallery-preview *,
.es-gallery-preview .es-gallery-item *,
.es-gallery-item.ui-draggable *,
.es-gallery-item.ui-sortable-handle * {
    cursor: inherit !important;
}

.es-gallery-item {
    position: relative;
    width: 80px;
    height: 80px;
    border-radius: 4px;
    overflow: hidden;
    border: 1px solid var(--es-border);
    cursor: grab !important;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    user-select: none;
    -webkit-user-select: none;
    background: #fff;
}

.es-gallery-item:active {
    cursor: grabbing !important;
}

.es-gallery-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

/* Override jQuery UI cursor styles - be very specific */
.es-gallery-item.ui-sortable-helper,
.es-gallery-item.es-gallery-dragging,
.es-gallery-item.ui-draggable-dragging {
    cursor: grabbing !important;
    transform: scale(1.05) rotate(2deg);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
    z-index: 1000 !important;
    opacity: 1 !important;
    overflow: visible;
}

/* Ensure no jQuery UI default cursors */
.es-gallery-preview.ui-sortable .es-gallery-item,
.es-gallery-preview .ui-sortable-handle {
    cursor: grab !important;
}

.es-gallery-preview.ui-sortable .es-gallery-item:active,
.es-gallery-preview .es-gallery-item.ui-sortable-helper {
    cursor: grabbing !important;
}

/* Hide any jQuery UI helper icons that might appear */
.es-gallery-item .ui-icon,
.es-gallery-item::before,
.es-gallery-item::after {
    content: none !important;
    display: none !important;
}

.es-gallery-item-placeholder {
    width: 80px;
    height: 80px;
    border: 2px dashed var(--es-primary);
    border-radius: 4px;
    background: rgba(var(--es-primary-rgb, 59, 130, 246), 0.1);
    box-sizing: border-box;
}

.es-gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.es-gallery-item .es-gallery-remove {
    position: absolute;
    top: 2px;
    right: 2px;
    width: 20px;
    height: 20px;
    background: var(--es-danger);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    font-size: 14px;
    line-height: 18px;
    text-align: center;
    padding: 0;
    opacity: 0;
    transition: opacity 0.2s;
}

/* Also style the media-manager gallery remove button */
.es-gallery-item .es-remove-gallery-image {
    position: absolute;
    top: 2px;
    right: 2px;
    width: 20px;
    height: 20px;
    background: var(--es-danger);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    font-size: 12px;
    line-height: 20px;
    text-align: center;
    padding: 0;
    opacity: 0;
    transition: opacity 0.2s;
}

.es-gallery-item:hover .es-gallery-remove,
.es-gallery-item:hover .es-remove-gallery-image {
    opacity: 1;
}

.es-gallery-item .es-gallery-remove:hover,
.es-gallery-item .es-remove-gallery-image:hover {
    background: var(--es-danger-hover);
}

#es-upload-gallery-btn .dashicons {
    margin-right: 5px;
}

/* Form Actions */
.es-form-actions {
    display: flex;
    gap: 10px;
    align-items: center;
    padding: 16px 20px;
    background: var(--es-card-bg, var(--es-background));
    border-top: 1px solid var(--es-border);
    position: sticky;
    bottom: 0;
    margin: 20px 0 0 0;
    border-radius: 0 0 12px 12px;
}

/* Wizard Navigation Buttons (Previous/Next) bleiben links */
.es-form-actions .es-wizard-prev,
.es-form-actions .es-wizard-next,
.es-form-actions .es-wizard-save {
    margin-right: 0;
}

/* Spacer - schiebt alles danach nach rechts */
.es-form-actions::after {
    content: '';
    flex: 1;
}

/* Cancel Button kommt nach dem Spacer */
.es-form-actions #es-cancel-btn {
    order: 10;
}

/* Submit Button kommt nach dem Spacer */
.es-form-actions button[type="submit"] {
    order: 11;
}

/* Delete Button ganz rechts */
.es-form-actions #es-delete-event-btn {
    order: 12;
}

.es-form-actions .button-primary {
    background: var(--es-primary);
    border-color: var(--es-primary);
    color: white;
}

.es-form-actions .button-primary:hover {
    background: var(--es-primary-hover);
    border-color: var(--es-primary-hover);
}

.button-link-delete {
    color: var(--es-danger) !important;
}

.button-link-delete:hover {
    color: var(--es-danger-hover) !important;
}

/* Messages */
.es-message {
    position: fixed;
    top: 32px;
    right: 20px;
    padding: 15px 20px;
    border-radius: 4px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 100000;
    min-width: 300px;
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.es-message.success {
    background: var(--es-success);
    color: white;
}

.es-message.error {
    background: var(--es-danger);
    color: white;
}

/* Loading State */
.es-loading {
    text-align: center;
    padding: 40px;
    color: var(--es-text-secondary);
}

.es-loading:after {
    content: '';
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid var(--es-border);
    border-top-color: var(--es-primary);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin-left: 10px;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.es-spin {
    animation: spin 0.5s linear infinite;
}

/* Empty State */
.es-empty-state {
    text-align: center;
    padding: 60px 20px;
}

.es-empty-state-icon {
    font-size: 48px;
    margin-bottom: 20px;
    opacity: 0.5;
}

.es-empty-state h3 {
    font-size: 20px;
    margin: 0 0 10px 0;
    color: var(--es-text);
}

.es-empty-state p {
    color: var(--es-text-secondary);
    margin: 0 0 20px 0;
}

/* Placeholder */
.es-placeholder {
    text-align: center;
    padding: 80px 20px;
}

.es-placeholder-icon {
    font-size: 64px;
    margin-bottom: 20px;
}

.es-placeholder h2 {
    font-size: 24px;
    margin: 0 0 15px 0;
    color: var(--es-text);
}

.es-placeholder p {
    color: var(--es-text-secondary);
    max-width: 600px;
    margin: 0 auto 10px auto;
}

/* Settings Page */
.es-status-ok {
    color: var(--es-success);
    font-weight: 500;
}

.es-status-warning {
    color: var(--es-warning);
    font-weight: 500;
}

/* Responsive */
@media screen and (max-width: 782px) {
    .es-events-header {
        flex-direction: column;
        align-items: stretch;
    }
    
    .es-search-box {
        max-width: none;
    }
    
    .es-event-item {
        flex-direction: column;
        align-items: stretch;
    }
    
    .es-event-actions {
        margin-top: 15px;
        justify-content: flex-end;
    }
    
    .es-form-row-group {
        grid-template-columns: 1fr;
    }
    
    .es-tab-content {
        padding: 20px;
    }
    
    .es-form-actions {
        flex-wrap: wrap;
    }
}

/* ================================================
   RECURRING EVENTS STYLES
   ================================================ */

.es-recurring-section {
    margin-top: 30px;
    padding-top: 20px;
    border-top: 2px solid var(--es-border);
}

.es-toggle-label {
    display: block;
    font-weight: 600;
}

.es-toggle-label input[type="checkbox"] {
    margin-right: 8px;
}

.es-toggle-label small {
    display: block;
    margin-top: 5px;
    margin-left: 28px;
    font-weight: normal;
    color: var(--es-text-secondary);
}

.es-recurring-options {
    margin-top: 20px;
    padding: 20px;
    background: var(--es-background);
    border: 1px solid var(--es-border);
    border-radius: 6px;
}

.es-recurring-pattern-options {
    margin-top: 15px;
}

.es-input-group {
    display: flex;
    align-items: center;
    gap: 10px;
}

.es-input-group input[type="number"] {
    width: 80px;
}

.es-weekday-selector {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.es-weekday-selector label {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.es-weekday-selector label:hover {
    background: var(--es-background);
    border-color: var(--es-primary);
}

.es-weekday-selector input[type="checkbox"] {
    margin-right: 6px;
}

.es-weekday-selector input[type="checkbox"]:checked + label,
.es-weekday-selector label:has(input:checked) {
    background: var(--es-primary);
    color: white;
    border-color: var(--es-primary);
}

.es-recurring-preview {
    margin-top: 20px;
    padding: 15px;
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 6px;
}

.es-recurring-preview h4 {
    margin: 0 0 10px 0;
    font-size: 14px;
    color: var(--es-text);
}

.es-recurring-preview-count {
    font-weight: normal;
    color: var(--es-text-secondary);
}

.es-recurring-preview-list ul {
    list-style: none;
    margin: 0;
    padding: 0;
}

.es-recurring-preview-list li {
    padding: 8px 0;
    border-bottom: 1px solid var(--es-border);
}

.es-recurring-preview-list li:last-child {
    border-bottom: none;
}

.es-recurring-preview-list li strong {
    color: var(--es-primary);
}

#es-recurring-preview-btn {
    margin-top: 10px;
}


/* Recurring End Options */
.es-recurring-end-options {
    display: flex;
    flex-direction: row;
    align-items: center; /* Vertically center all items */
    gap: 25px; /* Increased gap to prevent overlapping */
    padding: 10px 0;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
}

.es-radio-label {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px; /* Added horizontal padding */
    cursor: pointer;
    white-space: nowrap;
}

.es-radio-label input[type="radio"] {
    margin: 0;
    flex-shrink: 0; /* Prevent radio button from shrinking */
}

.es-radio-label input[type="date"],
.es-radio-label input[type="number"] {
    margin: 0 0 0 8px; /* Add left margin to separate from label text */
    flex-shrink: 0; /* Prevent inputs from shrinking */
}

/* Specific styles for recurring end options inputs */
#es-recurring-end-date {
    min-width: 150px;
}

#es-recurring-end-count {
    width: 70px;
    text-align: center;
}

/* Wizard Navigation Improvements */
.es-wizard-nav {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-bottom: 20px;
}

.es-wizard-save {
    display: flex;
    align-items: center;
    gap: 5px;
}

.es-wizard-save .dashicons {
    font-size: 16px;
}

/* Event Badges */
.es-badge {
    display: inline-block;
    padding: 2px 8px;
    margin-left: 8px;
    font-size: 11px;
    font-weight: 600;
    border-radius: 3px;
    vertical-align: middle;
}

.es-badge-virtual {
    background: #e3f2fd;
    color: #1976d2;
    border: 1px solid #90caf9;
}

.es-badge-recurring {
    background: #f3e5f5;
    color: #7b1fa2;
    border: 1px solid #ce93d8;
}

.es-badge-new {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #ffffff;
    border: none;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.es-badge-pro {
    background: linear-gradient(135deg, #f6d365, #fda085);
    color: #333;
    border: none;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Status Badges */
.es-badge-cancelled {
    background: #ffebee;
    color: #c62828;
    border: 1px solid #ef9a9a;
    font-weight: bold;
}

.es-badge-postponed {
    background: #fff3e0;
    color: #e65100;
    border: 1px solid #ffcc80;
    font-weight: bold;
}

.es-badge-preview {
    background: #ede9fe;
    color: #7c3aed;
    border: 1px solid #c4b5fd;
    font-weight: bold;
}

.es-badge-draft {
    background: #e0e0e0;
    color: #616161;
    border: 1px solid #bdbdbd;
}

/* Status styling for calendar events */
.es-calendar-event.es-status-cancelled {
    opacity: 0.6;
    text-decoration: line-through;
}

.es-calendar-event.es-status-postponed {
    opacity: 0.8;
    border-style: dashed !important;
}

.es-calendar-event.es-status-preview {
    opacity: 0.7;
    border-left: 3px solid #8b5cf6 !important;
    background: linear-gradient(90deg, rgba(139, 92, 246, 0.15) 0%, transparent 100%) !important;
}

.es-calendar-event.es-status-draft {
    opacity: 0.7;
    border-style: dotted !important;
}

.es-agenda-event.es-status-cancelled {
    opacity: 0.6;
}

.es-agenda-event.es-status-cancelled .es-agenda-event-title {
    text-decoration: line-through;
}

.es-agenda-event.es-status-postponed {
    opacity: 0.8;
}

.es-agenda-event.es-status-preview {
    opacity: 0.7;
    border-left: 3px solid #8b5cf6;
}

.es-agenda-event.es-status-draft {
    opacity: 0.7;
}

/* Multi-Day Events in Calendar */
.es-calendar-event.es-multi-day-event {
    background: linear-gradient(90deg, rgba(139, 92, 246, 0.15) 0%, rgba(139, 92, 246, 0.08) 100%);
    border-left-width: 4px !important;
    position: relative;
}

.es-calendar-event.es-multi-day-start {
    border-radius: 4px 0 0 4px;
    margin-right: -2px;
}

.es-calendar-event.es-multi-day-middle {
    border-radius: 0;
    border-left-width: 2px !important;
    margin-left: -2px;
    margin-right: -2px;
}

.es-calendar-event.es-multi-day-end {
    border-radius: 0 4px 4px 0;
    margin-left: -2px;
}

.es-calendar-event.es-multi-day-middle .es-event-title,
.es-calendar-event.es-multi-day-end .es-event-title {
    opacity: 0.7;
    font-style: italic;
}

/* Permanent Events in Calendar */
.es-calendar-event.es-permanent-event {
    background: linear-gradient(90deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.05) 100%);
    border-left-color: #10b981 !important;
}

/* Multi-Day Badge */
.es-badge-multi-day {
    background: rgba(139, 92, 246, 0.2);
    color: #8b5cf6;
}

.es-badge-multi-day .dashicons {
    font-size: 12px;
    width: 12px;
    height: 12px;
    line-height: 12px;
}

/* Permanent Badge */
.es-badge-permanent {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.es-badge-permanent .dashicons {
    font-size: 12px;
    width: 12px;
    height: 12px;
    line-height: 12px;
}

/* Virtual Events in List */
.es-event-item.es-virtual-event {
    opacity: 0.9;
    border-left: 3px dashed #1976d2;
}

.es-event-item.es-virtual-event:hover {
    opacity: 1;
}

/* Wizard Config Cards (Settings Page) */
.es-wizard-config-container {
    display: grid;
    gap: 20px;
    margin-top: 20px;
}

.es-category-config-card {
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 8px;
    padding: 20px;
}

.es-category-title {
    margin: 0 0 15px 0;
    font-size: 16px;
    color: var(--es-text);
    font-weight: 600;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--es-border);
}

.es-field-groups-pills {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.es-sortable-pill {
    position: relative;
    cursor: move;
}

.es-sortable-pill .es-drag-handle {
    position: absolute;
    left: 4px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--es-text-secondary);
    opacity: 0;
    transition: opacity 0.2s;
    font-size: 14px;
    cursor: grab;
}

.es-sortable-pill:hover .es-drag-handle {
    opacity: 1;
}

.es-sortable-pill.ui-sortable-helper .es-drag-handle {
    opacity: 1;
}

/* Add padding for drag handle */
.es-sortable-pill span:last-child {
    padding-left: 24px;
}

/* Dragging state */
.es-field-groups-pills .ui-sortable-helper {
    opacity: 0.8;
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.es-field-groups-pills .ui-sortable-placeholder {
    background: var(--es-surface-hover);
    border: 2px dashed var(--es-border);
    border-radius: 20px;
    visibility: visible !important;
}

/* ====================================
   FIX: Save Buttons immer sichtbar
   ==================================== */
.es-modal button[type="submit"],
.es-form-actions button[type="submit"],
button[type="submit"].button-primary {
    display: block !important;
    visibility: visible !important;
}

/* Specificity erhöhen für Artist/Location Modals */
.es-artist-modal button[type="submit"],
.es-location-modal button[type="submit"],
#es-artist-modal button[type="submit"],
#es-location-modal button[type="submit"] {
    display: block !important;
    visibility: visible !important;
}
/* Maps Add-on Fields in Location Modal */
.es-maps-section {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #444;
}

.es-maps-section h4 {
    margin: 0 0 15px;
    font-size: 13px;
    color: #9ca3af;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.es-form-row-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

.es-form-row-half {
    margin-bottom: 0;
}

#es-location-map-type {
    width: 100%;
}

/* ========================================
   EVENT GRID LAYOUT & FILTERS
   ======================================== */

/* Events Header with Filters */
.es-events-header {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 30px;
}

.es-events-filters {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
}

/* Search Box with Icon - Full Width */
.es-search-box {
    position: relative;
    width: 100%;
}

.es-search-input {
    width: 100%;
    padding: 10px 40px 10px 12px;
    border: 1px solid var(--es-border);
    border-radius: 6px;
    font-size: 14px;
    transition: all 0.2s;
}

.es-search-input:focus {
    outline: none;
    border-color: var(--es-primary);
    box-shadow: 0 0 0 3px rgba(34, 113, 177, 0.1);
}

.es-search-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--es-text-secondary);
    pointer-events: none;
}

/* Filter Group - Filters side by side */
.es-filter-group {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr auto;
    gap: 10px;
    align-items: center;
}

.es-filter-select {
    width: 100%;
    min-width: unset;
    padding: 8px 12px;
    border: 1px solid var(--es-border);
    border-radius: 6px;
    font-size: 14px;
    background: var(--es-surface);
    color: var(--es-text);
    cursor: pointer;
    transition: all 0.2s;
}

.es-filter-select:focus {
    outline: none;
    border-color: var(--es-primary);
    box-shadow: 0 0 0 3px rgba(34, 113, 177, 0.1);
}

.es-filter-select:hover {
    border-color: var(--es-primary);
}

#es-clear-filters {
    margin-left: auto;
}

.es-create-event-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
}

.es-create-event-btn .dashicons {
    font-size: 18px;
    width: 18px;
    height: 18px;
}

/* Events Grid */
.es-events-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 24px;
    min-height: 200px;
}

/* View Toggle Buttons */
.es-view-toggle {
    display: flex;
    gap: 0;
    background: var(--es-surface-secondary, #f6f7f7);
    border-radius: 6px;
    padding: 2px;
    margin-right: 8px;
}

.es-view-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 6px 10px;
    border: none;
    background: transparent;
    color: var(--es-text-secondary);
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.es-view-btn:hover {
    color: var(--es-primary);
    background: var(--es-surface);
}

.es-view-btn.active {
    background: var(--es-surface);
    color: var(--es-primary);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.es-view-btn .dashicons {
    font-size: 18px;
    width: 18px;
    height: 18px;
}

/* Events List View */
.es-events-grid.es-list-view {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.es-events-grid.es-list-view .es-event-card {
    flex-direction: row;
    align-items: stretch;
}

.es-events-grid.es-list-view .es-event-card-image {
    width: 180px;
    min-width: 180px;
    height: auto;
    min-height: 120px;
}

.es-events-grid.es-list-view .es-event-card-content {
    flex: 1;
    padding: 16px 20px;
    flex-direction: row;
    align-items: center;
    gap: 20px;
}

.es-events-grid.es-list-view .es-event-card-main {
    flex: 1;
    min-width: 0;
}

.es-events-grid.es-list-view .es-event-card-title {
    font-size: 16px;
    margin-bottom: 4px;
}

.es-events-grid.es-list-view .es-event-card-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    font-size: 13px;
}

.es-events-grid.es-list-view .es-event-card-actions {
    flex-shrink: 0;
    margin-top: 0;
    display: flex;
    gap: 8px;
}

.es-events-grid.es-list-view .es-event-card-badges {
    position: static;
    flex-direction: row;
    margin-left: auto;
}

.es-events-grid.es-list-view .es-event-card-checkbox {
    position: static;
    margin-right: 12px;
}

/* List view responsive */
@media (max-width: 768px) {
    .es-events-grid.es-list-view .es-event-card {
        flex-direction: column;
    }
    
    .es-events-grid.es-list-view .es-event-card-image {
        width: 100%;
        height: 150px;
    }
    
    .es-events-grid.es-list-view .es-event-card-content {
        flex-direction: column;
        align-items: flex-start;
    }
}

/* Event Card */
.es-event-card {
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 8px;
    overflow: hidden;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
}

.es-event-card:hover {
    border-color: var(--es-primary);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
}

.es-event-card.es-virtual-event {
    border-left: 4px solid var(--es-primary);
}

/* Card Image */
.es-event-card-image {
    position: relative;
    width: 100%;
    height: 180px;
    overflow: hidden;
    background: var(--es-background);
}

.es-event-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.es-event-card:hover .es-event-card-image img {
    transform: scale(1.05);
}

.es-event-card-badges {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 6px;
    flex-direction: column;
    align-items: flex-end;
}

/* Card Content */
.es-event-card-content {
    padding: 20px;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.es-event-card-title {
    font-size: 16px;
    font-weight: 600;
    margin: 0;
    color: var(--es-text);
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.es-event-card-categories {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    margin-bottom: 4px;
}

.es-category-badge {
    display: inline-block;
    padding: 4px 10px;
    background: var(--es-primary);
    color: white;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.es-event-card-meta {
    display: flex;
    flex-direction: column;
    gap: 8px;
    font-size: 13px;
    color: var(--es-text-secondary);
}

.es-event-card-meta-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.es-event-card-meta-item .dashicons {
    color: var(--es-primary);
    font-size: 16px;
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}

/* Card Actions */
.es-event-card-actions {
    padding: 12px 20px;
    border-top: 1px solid var(--es-border);
    display: flex;
    gap: 10px;
    background: var(--es-background);
}

.es-event-card-actions .button {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 8px 12px;
}

.es-event-card-actions .button .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
}

.es-event-card-actions .es-copy-event {
    flex: 0 0 auto;
    padding: 8px 12px;
    color: var(--es-primary);
    background: transparent;
}

.es-event-card-actions .es-copy-event:hover {
    background: var(--es-primary);
    color: white;
    border-color: var(--es-primary);
}

.es-event-card-actions .es-delete-event {
    flex: 0 0 auto;
    padding: 8px 12px;
    color: var(--es-danger);
}

.es-event-card-actions .es-delete-event:hover {
    background: var(--es-danger);
    color: white;
    border-color: var(--es-danger);
}

/* Genre Info Section */
.es-genre-info {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--es-border);
}

/* Support new .es-toggle system */
.es-genre-info .es-toggle {
    width: 100%;
}

.es-genre-info .es-toggle > .es-toggle-label {
    flex: 1;
}

/* Legacy support - keep for backwards compatibility */
.es-genre-info > .es-toggle-label:not(.es-toggle .es-toggle-label) {
    display: flex;
    align-items: flex-start;
    gap: 10px;
}

.es-genre-info > .es-toggle-label:not(.es-toggle .es-toggle-label) input[type="checkbox"] {
    margin-top: 3px;
}

.es-genre-info > .es-toggle-label:not(.es-toggle .es-toggle-label) > span {
    font-weight: 500;
}

.es-genre-info .es-field-help {
    display: block;
    margin-top: 4px;
    color: var(--es-text-secondary);
}

/* Responsive Design */
@media screen and (max-width: 1400px) {
    .es-events-grid {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
}

@media screen and (max-width: 1200px) {
    .es-events-grid {
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 20px;
    }
}

/* Tablet: 2 columns for filters */
@media screen and (max-width: 900px) {
    .es-filter-group {
        grid-template-columns: 1fr 1fr;
    }
    
    #es-clear-filters {
        grid-column: 1 / -1;
    }
}

@media screen and (max-width: 782px) {
    .es-events-header {
        gap: 15px;
    }
    
    .es-events-filters {
        gap: 12px;
    }
    
    .es-filter-group {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .es-filter-select {
        width: 100%;
    }
    
    #es-clear-filters {
        margin-left: 0;
        width: 100%;
    }
    
    .es-events-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    .es-event-card-image {
        height: 200px;
    }
}


/**
 * Layout Sets Tab Styles
 * Uses Ensemble Dark Theme Variables
 * 
 * @package Ensemble
 */

/* ============================================
   LAYOUT SETS SECTION
   ============================================ */

.es-layout-sets-section {
    max-width: 1400px;
    margin: 0 auto;
}

.es-layout-sets-section h2 {
    color: var(--es-text);
    font-size: 28px;
    font-weight: 600;
    margin-bottom: 10px;
}

.es-layout-sets-section > p {
    color: var(--es-text-secondary);
    font-size: 15px;
    margin-bottom: 30px;
}

/* ============================================
   SETS GRID
   ============================================ */

.es-sets-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.es-set-card {
    background: var(--es-surface);
    border: 2px solid var(--es-border);
    border-radius: 8px;
    padding: 20px;
    position: relative;
    transition: all 0.3s ease;
}

.es-set-card:hover {
    border-color: var(--es-primary);
    box-shadow: 0 4px 12px rgba(53, 130, 196, 0.2);
}

.es-set-card.active {
    border-color: var(--es-success);
    background: var(--es-surface-secondary);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
}

.es-set-card h3 {
    margin-top: 0;
    margin-bottom: 10px;
    color: var(--es-text);
    font-size: 18px;
    font-weight: 600;
}

.es-set-card p {
    color: var(--es-text-secondary);
    font-size: 14px;
    line-height: 1.5;
    margin-bottom: 15px;
}

.es-active-badge {
    display: inline-block;
    background: var(--es-success);
    color: #fff;
    padding: 6px 14px;
    border-radius: 4px;
    font-weight: 600;
    font-size: 13px;
}

/* ============================================
   CUSTOM TEMPLATES TABLE
   ============================================ */

.es-layout-sets-section .wp-list-table {
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 8px;
    overflow: hidden;
}

.es-layout-sets-section .wp-list-table thead th {
    background: var(--es-surface-secondary);
    color: var(--es-text);
    font-weight: 600;
    padding: 15px;
    border-bottom: 2px solid var(--es-border);
}

.es-layout-sets-section .wp-list-table tbody tr {
    background: var(--es-surface);
    border-bottom: 1px solid var(--es-border);
}

.es-layout-sets-section .wp-list-table tbody tr:hover {
    background: var(--es-surface-hover);
}

.es-layout-sets-section .wp-list-table tbody td {
    color: var(--es-text-secondary);
    padding: 15px;
}

.es-layout-sets-section .wp-list-table tbody td strong {
    color: var(--es-text);
}

/* ============================================
   MODAL EDITOR
   ============================================ */

#editorModal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.85);
    z-index: 999999;
    backdrop-filter: blur(4px);
}

#editorModal > div {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 20px;
}

.es-modal-content {
    position: relative;
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    padding: 40px;
    border-radius: 12px;
    max-width: 1400px;
    width: 95%;
    max-height: 90vh;
    overflow: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.es-modal-close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: var(--es-danger);
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 4px;
    font-weight: bold;
    font-size: 16px;
    z-index: 10;
    transition: all 0.2s ease;
}

.es-modal-close:hover {
    background: var(--es-danger-hover);
    box-shadow: 0 2px 8px rgba(255, 102, 102, 0.3);
}

.es-modal-content h2 {
    color: var(--es-text);
    font-size: 24px;
    font-weight: 600;
    margin: 0 0 25px 0;
}

/* ============================================
   MODAL FORM ELEMENTS
   ============================================ */

.es-modal-content label {
    color: var(--es-text);
    font-weight: 600;
    font-size: 14px;
}

.es-modal-content input[type="text"] {
    background: var(--es-surface-secondary);
    border: 1px solid var(--es-border);
    color: var(--es-text);
    padding: 10px 14px;
    border-radius: 4px;
    font-size: 14px;
    transition: all 0.2s ease;
}

.es-modal-content input[type="text"]:focus {
    border-color: var(--es-primary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(53, 130, 196, 0.15);
}

/* ============================================
   EDITOR TABS
   ============================================ */

.es-editor-tabs {
    margin: 20px 0;
    border-bottom: 2px solid var(--es-border);
}

.es-editor-tab {
    padding: 12px 24px;
    margin-right: 5px;
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-bottom: none;
    color: var(--es-text-secondary);
    cursor: pointer;
    border-radius: 4px 4px 0 0;
    font-weight: 500;
    transition: all 0.2s ease;
}

.es-editor-tab:hover {
    background: var(--es-surface-hover);
    color: var(--es-text);
}

.es-editor-tab.active {
    background: var(--es-primary);
    border-color: var(--es-primary);
    color: #fff;
}

/* ============================================
   CODEMIRROR STYLING
   ============================================ */

.CodeMirror {
    height: 450px !important;
    border: 1px solid var(--es-border);
    border-radius: 6px;
    font-size: 14px;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
}

.CodeMirror-gutters {
    background: var(--es-surface-secondary);
    border-right: 1px solid var(--es-border);
}

.CodeMirror-linenumber {
    color: var(--es-text-secondary);
}

/* ============================================
   FORM ACTIONS IN MODAL
   ============================================ */

.es-modal-content .es-form-actions {
    display: flex;
    gap: 12px;
    align-items: center;
    padding-top: 25px;
    margin-top: 25px;
    border-top: 1px solid var(--es-border);
}

/* ============================================
   SECTION DIVIDER
   ============================================ */

.es-layout-sets-section > div[style*="border-top"] {
    border-top: 2px solid var(--es-border) !important;
}

.es-layout-sets-section h3 {
    color: var(--es-text);
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 10px;
}

/* ============================================
   RESPONSIVE
   ============================================ */

@media (max-width: 782px) {
    .es-sets-grid {
        grid-template-columns: 1fr;
    }
    
    .es-modal-content {
        padding: 20px;
    }
    
    .es-modal-close {
        top: 10px;
        right: 10px;
        padding: 8px 15px;
        font-size: 14px;
    }
    
    .CodeMirror {
        height: 300px !important;
    }
}

/* ============================================
   SVG ICONS
   ============================================ */

/* Icon Containers */
.es-icon,
.es-hero-icon,
.es-stat-icon,
.es-event-icon,
.es-empty-icon,
.es-empty-state-icon,
.es-quick-link-icon,
.es-confirm-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Standard Icon Sizes */
.es-icon svg,
.es-stat-icon svg,
.es-event-icon svg,
.es-quick-link-icon svg {
    width: 24px;
    height: 24px;
}

/* Large Icons */
.es-hero-icon svg {
    width: 48px;
    height: 48px;
}

/* Empty State Icons */
.es-empty-icon svg,
.es-empty-state-icon svg,
.es-confirm-icon svg {
    width: 64px;
    height: 64px;
    opacity: 0.3;
}

/* Icons in Badges */
.es-badge svg {
    width: 14px;
    height: 14px;
    margin-right: 4px;
    vertical-align: text-top;
}

/* Button Icons */
.es-btn-icon svg {
    width: 16px;
    height: 16px;
    margin-right: 4px;
    vertical-align: middle;
}

/* Item Image Icons (No Image Placeholder) */
.es-item-image.no-image {
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--es-background);
}

.es-item-image.no-image svg {
    width: 48px;
    height: 48px;
    opacity: 0.3;
}

/* Context Menu Icons */
.es-context-menu button svg {
    width: 14px;
    height: 14px;
    margin-right: 6px;
    vertical-align: middle;
}

/* Quick Link Icons */
.es-quick-link-icon {
    width: 40px;
    height: 40px;
    margin-bottom: 10px;
}

.es-quick-link-icon svg {
    width: 24px;
    height: 24px;
    color: var(--es-primary);
}

/* =====================================================
   WIZARD TOOLBAR - Calendar Style
   ===================================================== */

.es-wizard-toolbar {
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 8px;
    margin-bottom: 20px;
    overflow: hidden;
}

.es-wizard-toolbar .es-toolbar-row {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
}

.es-wizard-toolbar .es-toolbar-main-row {
    background: var(--es-surface);
    flex-wrap: wrap;
}

/* Search Box - Left aligned with icon */
.es-wizard-toolbar .es-filter-search {
    position: relative;
    min-width: 200px;
    max-width: 280px;
}

.es-wizard-toolbar .es-search-input {
    width: 100%;
    padding: 8px 12px 8px 36px;
    border: 1px solid var(--es-border);
    border-radius: 4px;
    background: var(--es-background);
    color: var(--es-text);
    font-size: 13px;
    transition: border-color 0.2s, box-shadow 0.2s;
}

.es-wizard-toolbar .es-search-input:focus {
    outline: none;
    border-color: var(--es-primary);
    box-shadow: 0 0 0 2px rgba(53, 130, 196, 0.15);
}

.es-wizard-toolbar .es-search-icon {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--es-text-secondary);
    pointer-events: none;
}

.es-wizard-toolbar .es-search-icon svg {
    width: 16px;
    height: 16px;
}

/* Select Dropdowns */
.es-wizard-toolbar .es-filter-select {
    padding: 8px 32px 8px 12px;
    border: 1px solid var(--es-border);
    border-radius: 4px;
    background: var(--es-background);
    color: var(--es-text);
    font-size: 13px;
    min-width: 130px;
    cursor: pointer;
    transition: border-color 0.2s, box-shadow 0.2s;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
}

.es-wizard-toolbar .es-filter-select:focus {
    outline: none;
    border-color: var(--es-primary);
    box-shadow: 0 0 0 2px rgba(53, 130, 196, 0.15);
}

.es-wizard-toolbar .es-filter-select:hover {
    border-color: var(--es-text-secondary);
}

/* Spacer pushes Create button to the right */
.es-wizard-toolbar .es-toolbar-spacer {
    flex: 1;
}

/* Sort Toggle Button */
.es-sort-btn {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 6px 10px;
    font-size: 13px;
    cursor: pointer;
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    border-radius: 4px;
    transition: all 0.2s ease;
}

.es-sort-btn:hover {
    background: var(--es-surface-secondary);
    border-color: var(--es-primary);
}

.es-sort-btn .dashicons {
    font-size: 14px;
    width: 14px;
    height: 14px;
    color: var(--es-primary);
}

.es-sort-btn .es-sort-label {
    color: var(--es-text);
}

.es-sort-btn .es-sort-arrow {
    font-weight: bold;
    color: var(--es-primary);
    font-size: 12px;
}

/* Create Button */
.es-wizard-toolbar .es-create-event-btn {
    white-space: nowrap;
}

/* Category Legend in Wizard */
.es-wizard-toolbar .es-category-legend {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: wrap;
    gap: 8px;
    padding: 10px 16px;
    background: var(--es-background);
    border-top: 1px solid var(--es-border);
    align-items: center;
}

.es-wizard-toolbar .es-category-legend::before {
    content: "Kategorien:";
    font-size: 11px;
    font-weight: 600;
    color: var(--es-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-right: 8px;
}

.es-wizard-toolbar .es-legend-item {
    display: inline-flex !important;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    padding: 5px 10px;
    border-radius: 4px;
    background: var(--es-surface);
    border: 1px solid var(--es-border);
    transition: all 0.2s;
}

.es-wizard-toolbar .es-legend-item:hover {
    border-color: var(--es-text-secondary);
    transform: translateY(-1px);
}

.es-wizard-toolbar .es-legend-item.es-legend-active {
    border-color: var(--es-primary);
    box-shadow: 0 0 0 2px rgba(53, 130, 196, 0.2);
}

.es-wizard-toolbar .es-legend-color {
    width: 12px;
    height: 12px;
    border-radius: 2px;
    flex-shrink: 0;
    display: inline-block;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);
}

.es-wizard-toolbar .es-legend-name {
    font-size: 12px;
    color: var(--es-text);
    white-space: nowrap;
}

/* Responsive */
@media (max-width: 768px) {
    .es-wizard-toolbar .es-toolbar-main-row {
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .es-wizard-toolbar .es-filter-search {
        flex: 1 1 200px;
        max-width: none;
    }
    
    .es-toolbar-divider {
        display: none;
    }
    
    .es-bulk-actions-inline {
        order: 10;
        width: 100%;
        justify-content: center;
        padding-top: 8px;
        border-top: 1px solid var(--es-border);
        margin-top: 4px;
    }
    
    .es-wizard-toolbar .es-toolbar-spacer {
        display: none;
    }
    
    .es-wizard-toolbar .es-create-event-btn {
        flex: 1 1 auto;
    }
    
    .es-filter-panel {
        flex-direction: column;
    }
    
    .es-filter-panel .es-filter-select {
        width: 100%;
    }
}

/* ============================================
   MULTIVENUE STYLES
   ============================================ */

/* Toggle Switch für Multivenue */
.es-multivenue-section {
    background: var(--es-surface-secondary, #f0f0f1);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
    border: 2px dashed var(--es-border, #c3c4c7);
}

.es-toggle-row {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.es-toggle-label {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    user-select: none;
}

.es-toggle-text {
    font-weight: 600;
    font-size: 15px;
}

.es-toggle-switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 26px;
    flex-shrink: 0;
}

.es-toggle-switch input,
.es-toggle-switch input[type="checkbox"] {
    opacity: 0 !important;
    width: 100% !important;
    height: 100% !important;
    position: absolute !important;
    top: 0;
    left: 0;
    margin: 0 !important;
    padding: 0 !important;
    z-index: 2;
    cursor: pointer;
}

.es-toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: 0.3s;
    border-radius: 26px;
    z-index: 1;
}

.es-toggle-slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: 0.3s;
    border-radius: 50%;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.es-toggle-switch input:checked + .es-toggle-slider {
    background-color: var(--es-primary, #3582c4);
}

.es-toggle-switch input:checked + .es-toggle-slider:before {
    transform: translateX(24px);
}

/* Venues Section */
.es-venues-section {
    background: linear-gradient(135deg, rgba(53, 130, 196, 0.05) 0%, rgba(53, 130, 196, 0.1) 100%);
    border: 1px solid var(--es-primary, #3582c4);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
}

.es-venues-section h3 {
    margin-top: 0;
    color: var(--es-primary, #3582c4);
}

#es-venues-list {
    margin-bottom: 15px;
}

.es-venue-item {
    background: var(--es-surface, #fff);
    border: 1px solid var(--es-border, #ddd);
    border-radius: 6px;
    padding: 12px;
    margin-bottom: 10px;
}

.es-venue-fields {
    display: flex;
    align-items: flex-end;
    gap: 12px;
    flex-wrap: wrap;
}

.es-venue-field {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.es-venue-field label {
    font-size: 12px;
    color: var(--es-text-secondary, #666);
    font-weight: 500;
}

.es-venue-name {
    flex: 2;
    min-width: 200px;
}

.es-venue-capacity {
    flex: 1;
    min-width: 100px;
}

.es-venue-field input {
    padding: 8px 12px;
    border: 1px solid var(--es-border, #ddd);
    border-radius: 4px;
    font-size: 14px;
}

.es-remove-venue-btn {
    background: none;
    border: none;
    color: var(--es-danger, #dc3232);
    cursor: pointer;
    padding: 8px;
    border-radius: 4px;
    transition: background 0.2s;
}

.es-remove-venue-btn:hover {
    background: rgba(220, 50, 50, 0.1);
}

#es-add-venue-btn {
    margin-top: 5px;
}

/* Multivenue Badge in Wizard */
.es-multivenue-badge {
    font-size: 12px;
    margin-left: 4px;
}

/* Venue Selection in Wizard */
.es-venue-selection {
    background: var(--es-surface-secondary, #f9f9f9);
    padding: 15px;
    border-radius: 6px;
    border-left: 3px solid var(--es-primary, #3582c4);
    margin-top: 10px;
}

.es-venue-selection select {
    width: 100%;
    max-width: 300px;
    padding: 8px 12px;
    border: 1px solid var(--es-border, #ddd);
    border-radius: 4px;
    font-size: 14px;
}

/* Venue Toggles */
.es-venue-toggles {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.es-venue-toggle-item {
    background: var(--es-card-bg, rgba(255, 255, 255, 0.05));
    border: 1px solid var(--es-border, rgba(255, 255, 255, 0.1));
    border-radius: 8px;
    padding: 15px;
    transition: all 0.2s ease;
}

.es-venue-toggle-item.es-venue-active {
    border-color: var(--es-primary, #3582c4);
    background: rgba(53, 130, 196, 0.1);
    box-shadow: 0 0 0 1px var(--es-primary, #3582c4);
}

.es-venue-toggle-header {
    display: flex;
    align-items: flex-start;
    gap: 12px;
}

.es-venue-toggle-switch {
    flex-shrink: 0;
    margin-top: 3px;
}

/* Make sure venue toggle switch inherits proper styles */
.es-venue-toggle-switch.es-toggle-switch {
    width: 50px;
    height: 26px;
}

.es-venue-toggle-switch .es-toggle-slider {
    background-color: rgba(255, 255, 255, 0.2);
}

.es-venue-toggle-switch input:checked + .es-toggle-slider {
    background-color: var(--es-primary, #3582c4);
}

.es-venue-info {
    flex: 1;
    min-width: 0;
}

.es-venue-original-name {
    font-weight: 600;
    color: var(--es-text-primary, #fff);
    display: block;
    margin-bottom: 8px;
}

.es-venue-custom-name-wrap {
    margin-top: 8px;
}

.es-venue-custom-name {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--es-border, rgba(255, 255, 255, 0.15));
    border-radius: 6px;
    background: var(--es-input-bg, rgba(255, 255, 255, 0.05));
    color: var(--es-text-primary, #fff);
    font-size: 14px;
}

.es-venue-custom-name::placeholder {
    color: var(--es-text-secondary, rgba(255, 255, 255, 0.5));
}

.es-venue-custom-name:focus {
    outline: none;
    border-color: var(--es-primary, #3582c4);
    box-shadow: 0 0 0 3px rgba(53, 130, 196, 0.2);
}

.es-venue-genres {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--es-border, rgba(255, 255, 255, 0.1));
}

.es-venue-genres-label {
    display: block;
    font-size: 12px;
    color: var(--es-text-secondary, rgba(255, 255, 255, 0.6));
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.es-venue-genre-pills {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.es-venue-genre-pills .es-pill {
    font-size: 12px;
    padding: 4px 10px;
}

/* Global Genres Section */
.es-global-genres {
    transition: all 0.3s ease;
}

/* Artist Pills */
.es-artist-pills {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 15px;
}

.es-artist-pill {
    position: relative;
    display: inline-flex;
    align-items: center;
}

.es-artist-pill .es-artist-checkbox {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
}

.es-artist-pill-label {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 14px;
    background: var(--es-surface, #fff);
    border: 2px solid var(--es-border, #ddd);
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 14px;
    font-weight: 500;
    color: var(--es-text, #1e1e1e);
    user-select: none;
}

.es-artist-pill-label:hover {
    border-color: var(--es-primary, #3582c4);
    box-shadow: 0 2px 8px rgba(53, 130, 196, 0.15);
}

.es-artist-pill .es-artist-checkbox:checked + .es-artist-pill-label {
    background: linear-gradient(135deg, var(--es-primary, #3582c4) 0%, #2a6ba3 100%);
    border-color: var(--es-primary, #3582c4);
    color: #fff;
}

.es-artist-pill-image {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    object-fit: cover;
}

.es-artist-pill-name {
    white-space: nowrap;
}

/* Indicators (T for Time, R for Room) */
.es-artist-pill-indicators {
    display: none;
    gap: 3px;
    margin-left: 4px;
}

.es-artist-pill .es-artist-checkbox:checked + .es-artist-pill-label .es-artist-pill-indicators {
    display: inline-flex;
}

.es-indicator {
    display: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.25);
    color: #fff;
    font-size: 10px;
    font-weight: 700;
    line-height: 18px;
    text-align: center;
}

.es-indicator.active {
    display: inline-block;
    background: rgba(255, 255, 255, 0.9);
    color: var(--es-primary, #3582c4);
}

/* Edit button */
.es-artist-pill-edit {
    display: none;
    position: absolute;
    top: -6px;
    right: -6px;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: var(--es-primary, #3582c4);
    border: 2px solid #fff;
    color: #fff;
    cursor: pointer;
    padding: 0;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    transition: all 0.2s;
}

.es-artist-pill-edit .dashicons {
    font-size: 12px;
    width: 12px;
    height: 12px;
    line-height: 12px;
    margin-top: 3px;
}

.es-artist-pill .es-artist-checkbox:checked ~ .es-artist-pill-edit {
    display: flex;
    align-items: center;
    justify-content: center;
}

.es-artist-pill-edit:hover {
    background: #2a6ba3;
    transform: scale(1.1);
}

/* Popover */
.es-artist-popover {
    position: fixed;
    z-index: 100001;
    width: 260px;
    background: var(--es-surface, #fff);
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    border: 1px solid var(--es-border, #ddd);
    overflow: visible;
}

.es-popover-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: linear-gradient(135deg, var(--es-primary, #3582c4) 0%, #2a6ba3 100%);
    color: #fff;
}

.es-popover-title {
    font-weight: 600;
    font-size: 14px;
}

.es-popover-close {
    background: none;
    border: none;
    color: rgba(255, 255, 255, 0.8);
    font-size: 20px;
    cursor: pointer;
    padding: 0;
    line-height: 1;
}

.es-popover-close:hover {
    color: #fff;
}

.es-popover-body {
    padding: 15px;
}

.es-popover-field {
    margin-bottom: 12px;
}

.es-popover-field:last-child {
    margin-bottom: 0;
}

.es-popover-field label {
    display: block;
    font-size: 12px;
    font-weight: 600;
    color: var(--es-text-muted, #666);
    margin-bottom: 5px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.es-popover-field input,
.es-popover-field select {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--es-border, #ddd);
    border-radius: 6px;
    font-size: 14px;
}

.es-popover-field input:focus,
.es-popover-field select:focus {
    border-color: var(--es-primary, #3582c4);
    outline: none;
    box-shadow: 0 0 0 3px rgba(53, 130, 196, 0.1);
}

.es-popover-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: var(--es-bg, #f8f9fa);
    border-top: 1px solid var(--es-border, #ddd);
}

.es-popover-remove {
    background: none;
    border: none;
    color: #dc3545;
    cursor: pointer;
    font-size: 13px;
    padding: 0;
}

.es-popover-remove:hover {
    text-decoration: underline;
}

.es-popover-ok {
    padding: 8px 20px !important;
}

/* Popover Arrow - Below (default) */
.es-artist-popover.es-popover-below::before {
    content: '';
    position: absolute;
    top: -8px;
    left: 20px;
    width: 16px;
    height: 16px;
    background: var(--es-primary, #3582c4);
    transform: rotate(45deg);
    border-top: 1px solid var(--es-border, #ddd);
    border-left: 1px solid var(--es-border, #ddd);
}

/* Popover Arrow - Above */
.es-artist-popover.es-popover-above::before {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 20px;
    width: 16px;
    height: 16px;
    background: var(--es-bg, #f8f9fa);
    transform: rotate(45deg);
    border-bottom: 1px solid var(--es-border, #ddd);
    border-right: 1px solid var(--es-border, #ddd);
}

/* Responsive */
@media (max-width: 600px) {
    .es-venue-fields {
        flex-direction: column;
    }
    
    .es-venue-name,
    .es-venue-capacity {
        width: 100%;
    }
    
    .es-artist-pills {
        gap: 8px;
    }
    
    .es-artist-pill-label {
        padding: 6px 12px;
        font-size: 13px;
    }
    
    .es-artist-time,
    .es-artist-venue {
        width: 100%;
    }
}

/* ==========================================================================
   WIZARD FIELDS CONFIGURATION
   ========================================================================== */

.es-wizard-fields-config {
    max-width: 800px;
}

.es-fields-toggle-grid {
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.es-fields-section {
    background: var(--es-bg-secondary, rgba(255,255,255,0.02));
    border-radius: 12px;
    padding: 20px;
    border: 1px solid var(--es-border, rgba(255,255,255,0.08));
}

.es-section-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 0 0 15px 0;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--es-border, rgba(255,255,255,0.08));
}

.es-fields-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.es-field-toggle-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    background: var(--es-bg-primary, rgba(255,255,255,0.03));
    border-radius: 8px;
    border: 1px solid var(--es-border, rgba(255,255,255,0.06));
    transition: all 0.2s ease;
}

.es-field-toggle-item:hover {
    border-color: var(--es-border-hover, rgba(255,255,255,0.12));
}

.es-field-toggle-item.es-field-core {
    background: var(--es-bg-tertiary, rgba(255,255,255,0.05));
    opacity: 0.8;
}

.es-field-toggle-item.es-field-disabled {
    opacity: 0.5;
}

.es-field-toggle-item.es-field-enabled {
    border-color: var(--es-primary, #0073aa);
    background: rgba(0, 115, 170, 0.05);
}

.es-field-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

.es-field-info .dashicons {
    color: rgba(255, 255, 255, 0.7);
    font-size: 18px;
    width: 18px;
    height: 18px;
}

.es-field-name {
    color: #ffffff;
    font-size: 14px;
    font-weight: 500;
}

.es-field-icon {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--es-bg-secondary, rgba(255,255,255,0.05));
    border-radius: 6px;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
}

.es-field-icon svg {
    width: 16px;
    height: 16px;
}

.es-field-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.es-field-text strong {
    font-size: 14px;
    color: var(--es-text-primary, #fff);
}

.es-field-text small {
    font-size: 12px;
    color: var(--es-text-secondary, rgba(255,255,255,0.5));
}

.es-field-toggle {
    display: flex;
    align-items: center;
}

.es-always-on {
    font-size: 11px;
    color: var(--es-text-tertiary, rgba(255,255,255,0.4));
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background: var(--es-bg-secondary, rgba(255,255,255,0.05));
    padding: 4px 10px;
    border-radius: 4px;
}

/* ========================================
   Duration Type System (Festival/Exhibition)
   ======================================== */

.es-duration-type-row {
    margin-bottom: 24px;
}

.es-duration-type-options {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}

@media (max-width: 768px) {
    .es-duration-type-options {
        flex-direction: column;
    }
}

.es-duration-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 16px 20px;
    min-width: 100px;
    background: var(--es-bg-secondary, rgba(255,255,255,0.03));
    border: 2px solid var(--es-border-color, rgba(255,255,255,0.1));
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
}

.es-duration-option:hover {
    background: var(--es-bg-tertiary, rgba(255,255,255,0.05));
    border-color: var(--es-border-hover, rgba(255,255,255,0.2));
}

.es-duration-option input[type="radio"] {
    display: none;
}

.es-duration-option:has(input[type="radio"]:checked) {
    border-color: var(--es-primary-color, #8b5cf6);
    background: rgba(139, 92, 246, 0.1);
}

.es-duration-option input[type="radio"]:checked + .es-duration-icon {
    background: var(--es-primary-color, #8b5cf6);
    color: #fff;
}

.es-duration-icon {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--es-bg-tertiary, rgba(255,255,255,0.08));
    border-radius: 10px;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
    flex-shrink: 0;
    transition: all 0.2s ease;
}

.es-duration-icon .dashicons {
    font-size: 22px;
    width: 22px;
    height: 22px;
}

.es-duration-label {
    font-size: 13px;
    font-weight: 500;
    color: var(--es-text-primary, #fff);
}

/* Date Range Inputs */
.es-date-range-inputs {
    display: flex;
    align-items: center;
    gap: 12px;
}

.es-date-range-inputs input[type="date"] {
    flex: 1;
}

.es-date-range-separator {
    color: var(--es-text-secondary, rgba(255,255,255,0.5));
    font-size: 18px;
    font-weight: 300;
}

/* Sub-Events Section */
.es-sub-events-section {
    margin-top: 24px;
    padding-top: 24px;
    border-top: 1px solid var(--es-border-color, rgba(255,255,255,0.1));
}

.es-info-box {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 16px;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 8px;
    margin-top: 12px;
}

.es-info-box .dashicons {
    color: #3b82f6;
    flex-shrink: 0;
    margin-top: 2px;
}

.es-info-box p {
    margin: 0;
    font-size: 13px;
    color: var(--es-text-primary, #fff);
    line-height: 1.5;
}

/* Parent Event Section */
.es-parent-event-section {
    margin-top: 24px;
    padding: 20px;
    background: var(--es-bg-secondary, rgba(255,255,255,0.03));
    border: 1px dashed var(--es-border-color, rgba(255,255,255,0.15));
    border-radius: 12px;
}

.es-parent-event-section .es-form-row label {
    font-weight: 500;
}

.es-field-hint {
    display: block;
    margin-top: 6px;
    font-size: 12px;
    color: var(--es-text-secondary, rgba(255,255,255,0.5));
}

/* Child Events List (for parent events) */
.es-child-events-list {
    margin-top: 16px;
}

.es-child-events-list h4 {
    font-size: 14px;
    font-weight: 600;
    margin: 0 0 12px 0;
    color: var(--es-text-primary, #fff);
}

.es-child-event-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    background: var(--es-bg-tertiary, rgba(255,255,255,0.05));
    border-radius: 8px;
    margin-bottom: 8px;
}

.es-child-event-item:last-child {
    margin-bottom: 0;
}

.es-child-event-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

.es-child-event-date {
    font-size: 12px;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
    background: var(--es-bg-secondary, rgba(255,255,255,0.08));
    padding: 4px 8px;
    border-radius: 4px;
}

.es-child-event-title {
    font-size: 14px;
    font-weight: 500;
    color: var(--es-text-primary, #fff);
}

.es-child-event-actions a {
    color: var(--es-text-secondary, rgba(255,255,255,0.5));
    text-decoration: none;
    font-size: 12px;
}

.es-child-event-actions a:hover {
    color: var(--es-primary-color, #8b5cf6);
}

/* Duration Badge in Event List */
.es-duration-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    font-weight: 500;
    padding: 3px 8px;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.es-duration-badge-multi_day {
    background: rgba(245, 158, 11, 0.15);
    color: #f59e0b;
}

.es-duration-badge-permanent {
    background: rgba(16, 185, 129, 0.15);
    color: #10b981;
}

.es-duration-badge-festival {
    background: rgba(168, 85, 247, 0.15);
    color: #a855f7;
}

/* Event has children indicator */
.es-has-children-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
    margin-left: 8px;
}

.es-has-children-badge .dashicons {
    font-size: 14px;
    width: 14px;
    height: 14px;
}

/* ========================================
   Child Events List
   ======================================== */

.es-child-events-list {
    margin-top: 16px;
    padding: 16px;
    background: var(--es-bg-secondary, rgba(255,255,255,0.03));
    border: 1px solid var(--es-border-color, rgba(255,255,255,0.1));
    border-radius: 10px;
}

.es-child-events-list h4 {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 0 0 12px 0;
    font-size: 13px;
    font-weight: 600;
    color: var(--es-text-primary, #fff);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.es-count-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    font-size: 11px;
    font-weight: 600;
    color: #fff;
    background: var(--es-primary-color, #8b5cf6);
    border-radius: 10px;
}

.es-child-events-items {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 12px;
}

.es-child-event-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 12px;
    background: var(--es-bg-tertiary, rgba(255,255,255,0.05));
    border-radius: 8px;
    transition: background 0.2s ease;
}

.es-child-event-item:hover {
    background: var(--es-bg-hover, rgba(255,255,255,0.08));
}

.es-child-event-date {
    flex-shrink: 0;
    font-size: 12px;
    font-weight: 500;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
    background: var(--es-bg-secondary, rgba(255,255,255,0.08));
    padding: 4px 10px;
    border-radius: 6px;
    white-space: nowrap;
}

.es-child-event-title {
    flex: 1;
    font-size: 14px;
    font-weight: 500;
    color: var(--es-text-primary, #fff);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.es-child-event-actions {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
}

.es-child-event-edit,
.es-child-event-unlink {
    padding: 4px 8px;
    font-size: 11px;
    color: var(--es-text-secondary, rgba(255,255,255,0.5));
    background: transparent;
    border: 1px solid var(--es-border-color, rgba(255,255,255,0.15));
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.es-child-event-edit:hover {
    color: var(--es-primary-color, #8b5cf6);
    border-color: var(--es-primary-color, #8b5cf6);
}

.es-child-event-unlink:hover {
    color: #ef4444;
    border-color: #ef4444;
}

.es-add-child-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 500;
    color: var(--es-primary-color, #8b5cf6);
    text-decoration: none;
    transition: opacity 0.2s ease;
}

.es-add-child-link:hover {
    opacity: 0.8;
}

.es-add-child-link .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
}

/* Empty state for child events */
.es-child-events-empty {
    padding: 20px;
    text-align: center;
    color: var(--es-text-secondary, rgba(255,255,255,0.5));
    font-size: 13px;
}

/* Child Event Actions Row */
.es-child-event-actions-row {
    display: flex;
    gap: 16px;
    margin-top: 12px;
}

.es-link-event-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 500;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
    text-decoration: none;
    transition: all 0.2s ease;
}

.es-link-event-link:hover {
    color: var(--es-primary-color, #8b5cf6);
}

.es-link-event-link .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
}

/* Link Event Modal */
#es-link-event-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.85);
    z-index: 999999;
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

#es-link-event-modal .es-modal-content {
    max-width: 500px;
}

.es-modal-small {
    max-width: 500px !important;
}

.es-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--es-border-color, rgba(255,255,255,0.1));
}

.es-modal-header h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    color: var(--es-text-primary, #fff);
}

.es-modal-body {
    /* Body styles */
}

#es-link-event-search {
    width: 100%;
    padding: 12px 16px;
    font-size: 14px;
    color: var(--es-text-primary, #fff);
    background: var(--es-bg-secondary, rgba(255,255,255,0.05));
    border: 1px solid var(--es-border-color, rgba(255,255,255,0.15));
    border-radius: 8px;
    outline: none;
    transition: all 0.2s ease;
}

#es-link-event-search:focus {
    border-color: var(--es-primary-color, #8b5cf6);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.es-search-results {
    margin-top: 16px;
    max-height: 300px;
    overflow-y: auto;
}

.es-search-result-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: var(--es-bg-tertiary, rgba(255,255,255,0.05));
    border-radius: 8px;
    margin-bottom: 8px;
    transition: background 0.2s ease;
}

.es-search-result-item:hover {
    background: var(--es-bg-hover, rgba(255,255,255,0.08));
}

.es-result-date {
    flex-shrink: 0;
    font-size: 12px;
    font-weight: 500;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
    background: var(--es-bg-secondary, rgba(255,255,255,0.08));
    padding: 4px 10px;
    border-radius: 6px;
    white-space: nowrap;
}

.es-result-title {
    flex: 1;
    font-size: 14px;
    font-weight: 500;
    color: var(--es-text-primary, #fff);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.es-link-btn {
    flex-shrink: 0;
}

.es-search-hint,
.es-loading,
.es-no-results,
.es-error {
    padding: 20px;
    text-align: center;
    color: var(--es-text-secondary, rgba(255,255,255,0.5));
    font-size: 13px;
}

.es-results-count {
    margin: 0 0 12px 0;
    padding: 8px 12px;
    font-size: 12px;
    font-weight: 500;
    color: var(--es-text-secondary, rgba(255,255,255,0.6));
    background: var(--es-bg-secondary, rgba(255,255,255,0.03));
    border-radius: 6px;
}

.es-results-list {
    max-height: 280px;
    overflow-y: auto;
    padding-right: 4px;
}

.es-results-list::-webkit-scrollbar {
    width: 6px;
}

.es-results-list::-webkit-scrollbar-track {
    background: var(--es-bg-secondary, rgba(255,255,255,0.05));
    border-radius: 3px;
}

.es-results-list::-webkit-scrollbar-thumb {
    background: var(--es-border-color, rgba(255,255,255,0.2));
    border-radius: 3px;
}

.es-results-list::-webkit-scrollbar-thumb:hover {
    background: var(--es-primary-color, #8b5cf6);
}
